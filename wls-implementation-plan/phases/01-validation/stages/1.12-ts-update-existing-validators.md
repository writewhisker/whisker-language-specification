# Stage 1.12: TypeScript - Update Existing Validators

## Objective
Update existing TypeScript validators to use unified WLS error codes.

## Files to Modify
- `packages/story-validation/src/validators/MissingStartPassageValidator.ts`
- `packages/story-validation/src/validators/DeadLinksValidator.ts`
- `packages/story-validation/src/validators/UnreachablePassagesValidator.ts`
- `packages/story-validation/src/validators/UndefinedVariablesValidator.ts`
- `packages/story-validation/src/validators/UnusedVariablesValidator.ts`

## Prompt

```
Update existing validators in whisker-editor-web to use WLS error codes:

1. MissingStartPassageValidator.ts
Update to use code 'WLS-STR-001':

import { createValidationError } from '../types';

// Replace existing error creation with:
errors.push(createValidationError('WLS-STR-001'));

2. DeadLinksValidator.ts
Update to use code 'WLS-LNK-001':

// Replace existing error creation with:
errors.push(createValidationError(
  'WLS-LNK-001',
  [linkTarget],
  { passage: passage.name, line: link.line }
));

3. UnreachablePassagesValidator.ts
Update to use code 'WLS-STR-002':

errors.push(createValidationError(
  'WLS-STR-002',
  [passage.name],
  { passage: passage.name }
));

4. UndefinedVariablesValidator.ts
Update to use code 'WLS-VAR-001':

errors.push(createValidationError(
  'WLS-VAR-001',
  [variableName],
  { passage: passage.name, line }
));

5. UnusedVariablesValidator.ts
Update to use code 'WLS-VAR-002':

errors.push(createValidationError(
  'WLS-VAR-002',
  [variableName],
  { passage: definedIn }
));

For each validator:
- Import createValidationError from '../types'
- Update the errorCodes property to list WLS codes
- Replace all error object creation with createValidationError calls
- Ensure tests still pass
- Update test expectations to check for WLS codes
```

## Expected Output
~20-30 lines changed per validator (5 validators = ~100-150 lines total).

## Verification
```bash
cd ~/code/github.com/writewhisker/whisker-editor-web

# Run all validator tests
pnpm --filter @writewhisker/story-validation test -- --run

# Check all validators use WLS codes
grep -r "WLS-" packages/story-validation/src/validators/*.ts
```

## Next Stage
1.13-ts-validator-index.md
