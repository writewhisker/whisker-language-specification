# Stage 1.07: TypeScript - Validation Types Update

## Objective
Update TypeScript validation types to use unified error codes.

## Files to Modify
- `packages/story-validation/src/types.ts`

## Prompt

```
Update the validation types file at:
/Users/jims/code/github.com/writewhisker/whisker-editor-web/packages/story-validation/src/types.ts

Add or update these interfaces:

import type { ErrorSeverity } from './error-codes';

// Unified validation error with WLS error code
export interface WLSValidationError {
  /** WLS error code (e.g., WLS-STR-001) */
  code: string;

  /** Error identifier (e.g., missing_start_passage) */
  id: string;

  /** Severity level */
  severity: ErrorSeverity;

  /** Human-readable message */
  message: string;

  /** Location in source */
  location?: {
    passage?: string;
    line?: number;
    column?: number;
  };

  /** Additional context */
  context?: Record<string, unknown>;
}

// Validator interface
export interface StoryValidator {
  /** Unique validator name */
  name: string;

  /** Error codes this validator can produce */
  errorCodes: string[];

  /** Run validation */
  validate(story: Story): WLSValidationError[];
}

// Validation result
export interface ValidationResult {
  valid: boolean;
  errors: WLSValidationError[];
  warnings: WLSValidationError[];
  info: WLSValidationError[];
}

// Helper to create validation error
export function createValidationError(
  code: string,
  args: string[] = [],
  location?: WLSValidationError['location'],
  context?: Record<string, unknown>
): WLSValidationError;

Keep any existing types that are still needed.
Ensure backward compatibility with existing validators.
```

## Expected Output
~80 lines of type definitions.

## Verification
```bash
cd ~/code/github.com/writewhisker/whisker-editor-web

# Type check passes
pnpm --filter @writewhisker/story-validation typecheck

# Check interfaces exist
grep -c "interface" packages/story-validation/src/types.ts
```

## Next Stage
1.08-ts-duplicate-validator.md
