# Stage 4.05: Test Corpus Expansion

## Objective
Expand test corpus from 100 to 200+ test cases.

## Files to Create
- `phase-4-validation/test-corpus/**/*.yaml`

## Prompt

```
Expand the cross-platform test corpus:

1. Create organized test categories:

test-corpus/
├── basic/           # 50+ fundamental tests
│   ├── passages.yaml
│   ├── choices.yaml
│   ├── variables.yaml
│   ├── conditionals.yaml
│   └── links.yaml
├── advanced/        # 30+ complex tests
│   ├── nested-structures.yaml
│   ├── data-structures.yaml
│   ├── functions.yaml
│   └── expressions.yaml
├── flow-control/    # 20+ tests (from Phase 2)
│   ├── gather-tests.yaml
│   ├── tunnel-tests.yaml
│   └── once-tests.yaml
├── validation/      # 50+ tests (from Phase 1)
│   ├── structure-tests.yaml
│   ├── link-tests.yaml
│   ├── variable-tests.yaml
│   └── flow-tests.yaml
├── edge-cases/      # 30+ boundary tests
│   ├── empty-content.yaml
│   ├── unicode.yaml
│   ├── whitespace.yaml
│   └── limits.yaml
└── regression/      # Bug fix tests
    └── issues.yaml

2. Test case format:

- name: descriptive-name
  description: What this test verifies
  input: |
    :: Start
    Test content
  expected:
    valid: true
    passages: 1
    # Additional assertions

3. Each test should be:
- Self-contained
- Testing one specific behavior
- Cross-platform compatible
- Well-documented

4. Count verification:
find test-corpus -name "*.yaml" -exec grep -c "^- name:" {} + | awk -F: '{sum+=$2} END {print sum}'
# Should be 200+
```

## Expected Output
100+ additional test cases.

## Verification
```bash
cd ~/code/github.com/whisker-language-specification-1.0/phase-4-validation
./tools/run-corpus.sh --all
```

## Next Stage
4.06-integration-tests.md
