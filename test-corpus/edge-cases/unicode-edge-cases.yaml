# Unicode Edge Cases Test Corpus
# Tests for proper handling of Unicode characters in WLS

name: Unicode Edge Cases
description: Tests for emoji, RTL text, combining characters, and other Unicode edge cases

tests:
  # Emoji tests
  - id: emoji_in_passage_name
    description: Passage name containing emoji
    input: |
      :: Start ğŸ®
      Welcome to the game!
    expected:
      valid: true
      passages: 1
      passage_names: ["Start ğŸ®"]

  - id: emoji_in_content
    description: Content with various emoji
    input: |
      :: Start
      Hello! ğŸ‘‹ How are you feeling today? ğŸ˜Š
      * [Happy ğŸ˜„] -> happy
      * [Sad ğŸ˜¢] -> sad
    expected:
      valid: true
      passages: 1
      choices: 2

  - id: emoji_in_variable
    description: Variable containing emoji value
    input: |
      VAR mood = "ğŸ˜Š"
      :: Start
      Your mood is $mood
    expected:
      valid: true
      variables: 1

  - id: emoji_zwj_sequences
    description: Zero-width joiner emoji sequences
    input: |
      :: Start
      Family: ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
      Flag: ğŸ‡ºğŸ‡¸
      Professional: ğŸ‘©â€ğŸ’»
    expected:
      valid: true
      passages: 1

  # RTL (Right-to-Left) tests
  - id: rtl_arabic_content
    description: Arabic text content
    input: |
      :: Start
      Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙƒÙ… ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©
      * [Ù†Ø¹Ù…] -> yes
      * [Ù„Ø§] -> no
    expected:
      valid: true
      passages: 1
      choices: 2

  - id: rtl_hebrew_content
    description: Hebrew text content
    input: |
      :: Start
      ×©×œ×•× ×•×‘×¨×•×›×™× ×”×‘××™×
    expected:
      valid: true
      passages: 1

  - id: mixed_rtl_ltr
    description: Mixed RTL and LTR text
    input: |
      :: Start
      Welcome Ù…Ø±Ø­Ø¨Ø§ to the game!
      Press Enter ×œ×”××©×š
    expected:
      valid: true
      passages: 1

  # Combining characters
  - id: combining_diacritics
    description: Characters with combining diacritical marks
    input: |
      :: Start
      CafÃ© rÃ©sumÃ© naÃ¯ve
      SeÃ±or aÃ±o
    expected:
      valid: true
      passages: 1

  - id: combining_multiple_marks
    description: Multiple combining marks on single character
    input: |
      :: Start
      ZÌ´Ì¨Ì¢Í“Í™ÌªÌ®ÌŸÌ—Ì—ÍÌ£Ì—Ì¦Ì®Ì³Ì¦Ì²Ì¾Ì¿ÌˆÌÌˆÌÌ¾ÌÌ¿Í˜aÌµÌ§Ì›Í•ÍˆÌ¤Ì™Ì–Ì«Ì¦Ì—Ì˜Ì£Ì°Ì¿Ì€Ì€ÌÌÌŠÌ‘ÌÍÌ•lÌ·Ì¨Ì›Ì°ÌœÌÍ•Í•Ì¹Ì±Ì®Ì—Ì ÌŸÌŠÌƒÍŒÍŠÍŒÍ‚ÌÌ…Ì‹ÌŠÌÍ…gÌ´Ì¢Ì§Í•Ì£Ì¦Ì™Ì™Ì±Í™Ì°Ì«ÌˆÌÌ†Ì‚ÌÌ‹ÌˆÌ’ÍœoÌ¸Ì¢Í“ÍˆÌªÌ¬Ì³Ì ÌœÌ«ÌªÍ‡Ì¿ÌÌ¿ÌˆÌ“Ì¿ÌÌ½ÌˆÌÌ•Í
    expected:
      valid: true
      passages: 1

  # CJK characters
  - id: chinese_characters
    description: Chinese text content
    input: |
      :: å¼€å§‹
      æ¬¢è¿æ¥åˆ°æ¸¸æˆ
      * [æ˜¯] -> yes
      * [å¦] -> no
    expected:
      valid: true
      passages: 1
      choices: 2

  - id: japanese_mixed_scripts
    description: Japanese with hiragana, katakana, kanji
    input: |
      :: ã‚¹ã‚¿ãƒ¼ãƒˆ
      ã‚²ãƒ¼ãƒ ã¸ã‚ˆã†ã“ãï¼
      æ¼¢å­—ã¨ã²ã‚‰ãŒãªã¨ã‚«ã‚¿ã‚«ãƒŠ
    expected:
      valid: true
      passages: 1

  - id: korean_hangul
    description: Korean Hangul text
    input: |
      :: ì‹œì‘
      ê²Œì„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤
    expected:
      valid: true
      passages: 1

  # Special Unicode characters
  - id: mathematical_symbols
    description: Mathematical symbols in content
    input: |
      :: Start
      Calculate: Î± + Î² = Î³
      Area = Ï€rÂ²
      Sum: âˆ‘(i=1 to n)
    expected:
      valid: true
      passages: 1

  - id: currency_symbols
    description: Various currency symbols
    input: |
      :: Start
      Prices: $100, â‚¬85, Â£70, Â¥10000, â‚¹7500
    expected:
      valid: true
      passages: 1

  - id: special_punctuation
    description: Special punctuation marks
    input: |
      :: Start
      Quotes: "Hello" 'World' Â«BonjourÂ» â€Guten Tag"
      Dashes: â€“ â€” â€
      Ellipsis: â€¦
    expected:
      valid: true
      passages: 1

  # Edge cases
  - id: zero_width_characters
    description: Zero-width characters in text
    input: |
      :: Start
      Wordâ€‹withâ€‹zeroâ€‹widthâ€‹spaces
    expected:
      valid: true
      passages: 1

  - id: bom_handling
    description: Byte order mark at start
    input: "\uFEFF:: Start\nContent"
    expected:
      valid: true
      passages: 1

  - id: control_characters
    description: Visible control character replacements
    input: |
      :: Start
      Tab:	between words
      Line breaks handled
    expected:
      valid: true
      passages: 1

  - id: surrogate_pairs
    description: Characters requiring surrogate pairs (emoji, rare CJK)
    input: |
      :: Start
      Rare emoji: ğŸ¦–ğŸ¦•
      Ancient text: ğ€€ğ€ğ€‚
    expected:
      valid: true
      passages: 1
